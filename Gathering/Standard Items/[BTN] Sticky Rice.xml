<!--
Author: QueenLilith

REQUIRED:
- ExMatt's ExBuddy :: https://github.com/MGramolini/ExBuddy/trunk/ExBuddy
-->

<!DOCTYPE Profile [

<!ENTITY FarmAmount "792">

<!ENTITY WaitZoneID "635">
<!ENTITY WaitTeleportName "Rhalgr's Reach">
<!ENTITY WaitTeleportID "104">

<!ENTITY LogColor "#66FF66">
]>

<!-- Start Routine -->
<Profile>
	
	<Name>[BTN] Sticky Rice</Name>
	<KillRadius>25</KillRadius>

	<CodeChunks>
		<CodeChunk Name="Botanist">
			<![CDATA[ 
				ff14bot.Managers.ChatManager.SendChat("/gs change 6");
		]]>
		</CodeChunk>
	</CodeChunks>

	<Order>
	
	<If Condition="not HasAtLeast(4819,&FarmAmount;)">

		<!-- Switch Gear Set to Botanist -->
		<If Condition="ClassName != ClassJobType.Botanist">
			<RunCode Name="Botanist" />
			<WaitTimer WaitTime="2" />
		</If>

		<If Condition="not IsOnMap(138)">
			<TeleportTo name="Aleport" aetheryteId="14" />
		</If>

		<If Condition="not IsOnMap(139)">
			<GetTo ZoneId="139" XYZ="-363.869, -1.99144, 160.5187" />
		</If>

		<ExGather While="not HasAtLeast(4819,&FarmAmount;)" DiscoverUnknowns="True">
		
			<GatherObject>Lush Vegetation Patch</GatherObject>
		
			<HotSpots>
				<HotSpot Radius="100" XYZ="-363.869, -1.99144, 160.5187" name="Sticky Rice" />
			</HotSpots>
		
			<ItemNames>
				<ItemName>Sticky Rice</ItemName>
			</ItemNames>

			<GatheringSkillOrder>
				<GatheringSkill SpellName="Leaf Turn III" TimesToCast="1" />
			</GatheringSkillOrder>
			
		</ExGather>
	
	</If>

	<!-- Go to Wait Location -->
	<If>
			
		<ExLog Color="&LogColor;" Name="INFO" Message="Collection complete. Moving to AFK Area." />
			
		<If Condition="not IsOnMap(&WaitZoneID;)">
			<TeleportTo name="&WaitTeleportName;" aetheryteId="&WaitTeleportID;" />
		</If>

	</If>

	</Order>

</Profile>
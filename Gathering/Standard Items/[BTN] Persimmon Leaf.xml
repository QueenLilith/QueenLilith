<!--
Author: QueenLilith

REQUIRED:
- ExMatt's ExBuddy :: https://github.com/MGramolini/ExBuddy/trunk/ExBuddy
-->

<!DOCTYPE Profile [

<!ENTITY FarmAmount "792">

<!ENTITY WaitZoneID "635">
<!ENTITY WaitTeleportName "Rhalgr's Reach">
<!ENTITY WaitTeleportID "104">

<!ENTITY LogColor "#66FF66">
]>

<!-- Start Routine -->
<Profile>
	
	<Name>[BTN] Persimmon Leaf</Name>
	<KillRadius>25</KillRadius>

	<CodeChunks>
		<CodeChunk Name="Botanist">
			<![CDATA[ 
				ff14bot.Managers.ChatManager.SendChat("/gs change 6");
		]]>
		</CodeChunk>
	</CodeChunks>

	<Order>

	<If Condition="not HasAtLeast(19870,&FarmAmount;)">

		<!-- Switch Gear Set to Botanist -->
		<If Condition="ClassName != ClassJobType.Botanist">
			<RunCode Name="Botanist" />
			<WaitTimer WaitTime="2" />
		</If>

		<If Condition="not IsOnMap(612)">
			<TeleportTo name="Castrum Oriens" aetheryteId="98" />
		</If>
	
		<NoCombatMoveTo Name="Farm Area" XYZ="-611.204, 57.07, 428.2605" />

		<ExGather While="not HasAtLeast(19870,&FarmAmount;)" DiscoverUnknowns="True">
		
			<GatherObject>Mature Tree</GatherObject>
		
			<HotSpots>
				<HotSpot Radius="100" XYZ="-611.204, 57.07, 428.2605" name="Persimmon Leaf" />
			</HotSpots>
		
			<ItemNames>
				<ItemName>Timeworn Gazelleskin Map</ItemName>
				<ItemName>Persimmon Leaf</ItemName>
			</ItemNames>

			<GatheringSkillOrder>
				<GatheringSkill SpellName="Leaf Turn III" TimesToCast="1" />
			</GatheringSkillOrder>
			
		</ExGather>
	
	</If>

	<!-- Go to Wait Location -->
	<If>
			
		<ExLog Color="&LogColor;" Name="INFO" Message="Collection complete. Moving to AFK Area." />
			
		<If Condition="not IsOnMap(&WaitZoneID;)">
			<TeleportTo name="&WaitTeleportName;" aetheryteId="&WaitTeleportID;" />
		</If>

	</If>

	</Order>

</Profile>
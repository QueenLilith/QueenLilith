<!--
Author: QueenLilith

REQUIRED:
- ExMatt's ExBuddy :: https://github.com/MGramolini/ExBuddy/trunk/ExBuddy
-->

<!DOCTYPE Profile [

<!ENTITY FarmAmount "792">

<!ENTITY WaitZoneID "635">
<!ENTITY WaitTeleportName "Rhalgr's Reach">
<!ENTITY WaitTeleportID "104">

<!ENTITY LogColor "#66FF66">
]>

<!-- Start Routine -->
<Profile>
	
	<Name>[MIN] Stiperstone</Name>
	<KillRadius>25</KillRadius>
	
	<CodeChunks>
		<CodeChunk Name="Miner">
			<![CDATA[ 
				ff14bot.Managers.ChatManager.SendChat("/gs change 5");
		]]>
		</CodeChunk>
	</CodeChunks>

	<Order>
	
	<If Condition="not HasAtLeast(5232,&FarmAmount;)">

		<!-- Switch Gear Set to Miner -->
		<If Condition="ClassName != ClassJobType.Miner">
			<RunCode Name="Miner" />
			<WaitTimer WaitTime="2" />
		</If>

		<If Condition="not IsOnMap(620)">
			<TeleportTo name="Ala Gannha" aetheryteId="100" />
		</If>
	
		<ExGather While="not HasAtLeast(5232,&FarmAmount;)" DiscoverUnknowns="True">
		
			<GatherObject>Rocky Outcrop</GatherObject>
		
			<HotSpots>
				<HotSpot Radius="1" XYZ="-10.74014, 113.094, -367.6719" name="Stiperstone" />
				<HotSpot Radius="50" XYZ="-10.74014, 113.094, -367.6719" name="Stiperstone" />
				<HotSpot Radius="50" XYZ="182.7417, 136.5884, -338.5491" name="Stiperstone" />
				<HotSpot Radius="50" XYZ="111.4164, 114.3518, -520.3472" name="Stiperstone" />
			</HotSpots>
		
			<ItemNames>
				<ItemName>Stiperstone</ItemName>
			</ItemNames>

			<GatheringSkillOrder>
				<GatheringSkill SpellName="Unearth III" TimesToCast="1" />
			</GatheringSkillOrder>
			
		</ExGather>
	
	</If>

	<!-- Go to Wait Location -->
	<If>
			
		<ExLog Color="&LogColor;" Name="INFO" Message="Collection complete. Moving to AFK Area." />
			
		<If Condition="not IsOnMap(&WaitZoneID;)">
			<TeleportTo name="&WaitTeleportName;" aetheryteId="&WaitTeleportID;" />
		</If>

	</If>

	</Order>

</Profile>